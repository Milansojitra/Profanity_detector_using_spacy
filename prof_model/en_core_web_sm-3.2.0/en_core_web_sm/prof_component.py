import spacy
from spacy.language import Language
from spacy.matcher import PhraseMatcher

mild_list = ['abbie', 'aboe', 'buttermilk', 'greaser', 'nuggets']
strong_list = ['abeed',
 'blacky',
 'cholo',
 'coolie',
 'cooni3s',
 'dago',
 'groid',
 'gyp',
 'heeb',
 'injun',
 'jigaboo',
 'jigga',
 'jiggabooboo',
 'klan',
 'knickers',
 'm0ngoloid',
 'mong',
 'mongoloid',
 'n1gga',
 'n3gro',
 'negro',
 'niggahs',
 'niggaz',
 'redskin',
 'sambo',
 'sheister',
 'shiester',
 'shylock',
 'tacohead',
 'wop',
 'wophead',
 'zipperhead']

severe_list = ['beaner',
 'beaners',
 'c00n',
 'c00nies',
 'ch1nk',
 'chingchong',
 'chink',
 'chinky',
 'coon',
 'coon1es',
 'coonie',
 'coonies',
 'coons',
 'darkass',
 'darkie',
 'darktard',
 'darky',
 'dothead',
 'gook',
 'higg@',
 'higg3r',
 'higga',
 'higger',
 'higgers',
 'jap',
 'jewboy',
 'jigaboos',
 'jiggaboo',
 'jiggaboos',
 'jiggabu',
 'jiggas',
 'jigger',
 'jiggerboo',
 'jiggerboos',
 'jiggs',
 'jiggyboo',
 'jigro',
 'k!k3',
 'k!ke',
 'k..!ke',
 'k1k3',
 'k1ke',
 'kike',
 'kikes',
 'kneegrows',
 'kyke',
 'mongrel',
 'n1ckker',
 'n1g3r',
 'n1g3rz',
 'n1gg@',
 'n1gg@hs',
 'n1gg3r',
 'n1gg3rs',
 'n1ggah',
 'n1ggahs',
 'n1ggas',
 'n1ggazes',
 'n1gger',
 'n1ggers',
 'n1gguh',
 'negga',
 'neggar',
 'negr0',
 'negroes',
 'negroid',
 'niccer',
 'nicka',
 'nickas',
 'nicker',
 'nickk3r',
 'nickker',
 'nig',
 'nig-nog',
 'niga',
 'nigah',
 'nigasses',
 'nigers',
 'nigg@',
 'nigg@hs',
 'nigg@s',
 'nigg@z',
 'nigg@zzes',
 'nigg3r',
 'nigg3rs',
 'nigg4h',
 'nigg4hs',
 'nigga',
 'niggah',
 'niggahz',
 'niggas',
 'niggass',
 'niggazzes',
 'nigger',
 'niggers',
 'niggerz',
 'niggir',
 'niggress',
 'nigguh',
 'nigguhs',
 'nigguhz',
 'niglet',
 'nignigs',
 'nignog',
 'nigra',
 'nigre',
 'nigs',
 'niguh',
 'nikk3r',
 'nikkas',
 'nikker',
 'nuckas',
 'paki',
 'raghead',
 'ragheads',
 'ragtard',
 'sl@nteye',
 'slantard',
 'slanteye',
 'slanteyes',
 'slantfreak',
 'slanty',
 'spic',
 'spick',
 'spics',
 'spig',
 'spik',
 'spix',
 'spook',
 'spooks',
 'tar-baby',
 'towelhead',
 'towelheads',
 'towelshithead',
 'we1back',
 'wetback',
 'wetbacks',
 'wigger']

@Language.component("profanity_component")
def profanity_component_function(doc):
    
    #inner function to get the degreee of profanity.
    def get_label(obj):
      
        if any([t.text in severe_list for t in obj]):
            return "Severe"
        elif any([t.text in strong_list for t in obj]):
            return "Strong"
        elif any([t.text.lower() in mild_list for t in obj]):
            return "Mild"
        else:
            return "Neutral"
    
    # check in each of the sentence and assigne the custom component
    for sent in doc.sents:
        sent.set_extension("Profanity_level", getter=get_label, force = True)
    
    return doc
